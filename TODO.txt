refactor .h files into seprate .cpp files to sovle circular dependency